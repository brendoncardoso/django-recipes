{% extends "view.html" %}
{% block title %}{{title}}{% endblock title %}
{% load static %}

{% block content %}
    <main class="main-content-container">
        <div class="main-content main-content-detail container">
            <div class="recipe recipe-list-item">
                <div class="recipe-cover">
                    {% if item.cover %}
                        <img src="/media/{{item.cover}}" alt="Temporário" style="width: 100%!important;">
                    {% else %}
                        <img src="{% static 'img/default.png'%}" alt="Temporário">
                    {% endif %} 
                </div>
                
                <div class="recipe-title-container">
                    <h3 class="recipe-title">{{ item.title }}</h3>
                </div>

                <div class="recipe-author">
                    <span class="recipe-author-item">
                        <i class="fas fa-calendar-alt"></i>
                        {{ item.created_at|date:"d/m/Y" }} às {{item.created_at|date:"H:i:s"}}
                    </span>

                    <span class="recipe-author-item">
                        <a href="/recipes/category/{{item.category.id}}">
                            <i class="fas fa-layer-group"></i>
                            <span>{{item.category.name}}</span>
                        </a>
                    </span>
                </div>

                <div class="recipe-content">
                    <p>{{item.preparation_steps|linebreaksbr}}</p>
                </div>

                <div class="recipe-meta-container">
                    <div class="recipe-meta recipe-preparation">
                        <h3 class="recipe-meta-title"><i class="fas fa-stopwatch"></i> Preparo</h3>
                        <div class="recipe-meta-text">
                            {{item.preparation_time}} Minuto(s)
                        </div>
                    </div>
                    <div class="recipe-meta recipe-servings">
                        <h3 class="recipe-meta-title"><i class="fas fa-pizza-slice"></i> Porções</h3>
                        <div class="recipe-meta-text">
                            {{item.servings}} 
                            {% if item.servings > 1 %}
                                Porções
                            {% else %}
                                Porção
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
{% endblock content %} 